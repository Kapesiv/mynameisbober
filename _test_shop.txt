import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/ui/ShopPanel.tsx");        import "/@fs/C:/Users/kappu/saab/node_modules/@prefresh/core/src/index.js?v=89f8e5f1";        import { flush as flushUpdates } from "/@fs/C:/Users/kappu/saab/node_modules/@prefresh/utils/src/index.js?v=89f8e5f1";        let prevRefreshReg;        let prevRefreshSig;        if (import.meta.hot) {          prevRefreshReg = self.$RefreshReg$ || (() => {});          prevRefreshSig = self.$RefreshSig$ || (() => (type) => type);          self.$RefreshReg$ = (type, id) => {            self.__PREFRESH__.register(type, "C:/Users/kappu/saab/client/src/ui/ShopPanel.tsx" + " " + id);          };          self.$RefreshSig$ = () => {            let status = 'begin';            let savedType;            return (type, key, forceReset, getCustomHooks) => {              if (!savedType) savedType = type;              status = self.__PREFRESH__.sign(type || savedType, key, forceReset, getCustomHooks, status);              return type;            };          };        }        var _s = $RefreshSig$();
var _jsxFileName = "C:\\Users\\kappu\\saab\\client\\src\\ui\\ShopPanel.tsx";
import { addHookName } from "/node_modules/.vite/deps/preact_devtools.js?v=89f8e5f1";
import { render } from "/node_modules/.vite/deps/preact.js?v=89f8e5f1";
import { useState, useEffect } from "/node_modules/.vite/deps/preact_hooks.js?v=89f8e5f1";
import { BLACKSMITH_SHOP, ITEM_DEFS, RARITY_COLORS } from "/@fs/C:/Users/kappu/saab/packages/shared/src/index.ts";
import { inventoryManager } from "/src/systems/InventoryManager.ts";
import { shopBuy, shopSell } from "/src/network/actions.ts";
import { jsxDEV as _jsxDEV } from "/node_modules/.vite/deps/preact_jsx-dev-runtime.js?v=89f8e5f1";
let setShopState = null;
function ShopPanelComponent() {
  _s();
  const [state, setState] = addHookName(useState({
    visible: false
  }), "state");
  const [, setTick] = addHookName(useState(0), "setTick");
  setShopState = setState;
  useEffect(() => {
    return inventoryManager.subscribe(() => setTick(t => t + 1));
  }, []);
  if (!state.visible) return null;
  const gold = inventoryManager.getGold();
  const items = inventoryManager.getItems();
  return _jsxDEV("div", {
    style: {
      position: "absolute",
      top: "50%",
      left: "50%",
      transform: "translate(-50%, -50%)",
      background: "rgba(15,10,5,0.95)",
      border: "2px solid #aa6622",
      borderRadius: "12px",
      padding: "20px",
      width: "700px",
      maxHeight: "80vh",
      pointerEvents: "auto",
      display: "flex",
      flexDirection: "column",
      gap: "12px"
    },
    children: [_jsxDEV("div", {
      style: {
        display: "flex",
        justifyContent: "space-between",
        alignItems: "center"
      },
      children: [_jsxDEV("div", {
        style: {
          color: "#ffd700",
          fontSize: "18px",
          fontWeight: "bold"
        },
        children: "Blacksmith Toivo"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 37,
        columnNumber: 9
      }, this), _jsxDEV("div", {
        style: {
          display: "flex",
          alignItems: "center",
          gap: "12px"
        },
        children: [_jsxDEV("div", {
          style: {
            color: "#ffd700",
            fontSize: "16px"
          },
          children: ["Gold: ", gold]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 41,
          columnNumber: 11
        }, this), _jsxDEV("button", {
          onClick: () => setState({
            visible: false
          }),
          style: {
            background: "#666",
            color: "#fff",
            border: "none",
            padding: "4px 12px",
            borderRadius: "4px",
            cursor: "pointer"
          },
          children: "Close [ESC]"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 44,
          columnNumber: 11
        }, this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 40,
        columnNumber: 9
      }, this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 36,
      columnNumber: 7
    }, this), _jsxDEV("div", {
      style: {
        display: "flex",
        gap: "16px",
        overflow: "hidden"
      },
      children: [_jsxDEV("div", {
        style: {
          flex: 1
        },
        children: [_jsxDEV("div", {
          style: {
            color: "#88cc88",
            fontSize: "14px",
            fontWeight: "bold",
            marginBottom: "8px"
          },
          children: "Buy"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 59,
          columnNumber: 11
        }, this), _jsxDEV("div", {
          style: {
            maxHeight: "50vh",
            overflowY: "auto"
          },
          children: BLACKSMITH_SHOP.map(entry => {
            const def = ITEM_DEFS[entry.defId];
            if (!def) return null;
            const canAfford = gold >= entry.buyPrice;
            return _jsxDEV("div", {
              style: {
                display: "flex",
                justifyContent: "space-between",
                alignItems: "center",
                padding: "6px 8px",
                marginBottom: "4px",
                background: "rgba(255,255,255,0.05)",
                borderRadius: "4px",
                borderLeft: `3px solid ${RARITY_COLORS[def.rarity]}`
              },
              children: [_jsxDEV("div", {
                children: [_jsxDEV("div", {
                  style: {
                    color: RARITY_COLORS[def.rarity],
                    fontSize: "13px",
                    fontWeight: "bold"
                  },
                  children: def.name
                }, void 0, false, {
                  fileName: _jsxFileName,
                  lineNumber: 75,
                  columnNumber: 21
                }, this), _jsxDEV("div", {
                  style: {
                    color: "#888",
                    fontSize: "11px"
                  },
                  children: [def.type, " ", def.baseDamage ? `| DMG: ${def.baseDamage}` : "", def.baseArmor ? `| ARM: ${def.baseArmor}` : ""]
                }, void 0, true, {
                  fileName: _jsxFileName,
                  lineNumber: 78,
                  columnNumber: 21
                }, this)]
              }, void 0, true, {
                fileName: _jsxFileName,
                lineNumber: 74,
                columnNumber: 19
              }, this), _jsxDEV("button", {
                onClick: () => shopBuy(entry.defId),
                disabled: !canAfford,
                style: {
                  background: canAfford ? "#44883a" : "#444",
                  color: canAfford ? "#fff" : "#888",
                  border: "none",
                  padding: "4px 12px",
                  borderRadius: "4px",
                  cursor: canAfford ? "pointer" : "default",
                  fontSize: "12px"
                },
                children: ["Buy ", entry.buyPrice, "g"]
              }, void 0, true, {
                fileName: _jsxFileName,
                lineNumber: 82,
                columnNumber: 19
              }, this)]
            }, entry.defId, true, {
              fileName: _jsxFileName,
              lineNumber: 68,
              columnNumber: 17
            }, this);
          })
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 62,
          columnNumber: 11
        }, this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 58,
        columnNumber: 9
      }, this), _jsxDEV("div", {
        style: {
          flex: 1
        },
        children: [_jsxDEV("div", {
          style: {
            color: "#cc8888",
            fontSize: "14px",
            fontWeight: "bold",
            marginBottom: "8px"
          },
          children: "Sell"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 102,
          columnNumber: 11
        }, this), _jsxDEV("div", {
          style: {
            maxHeight: "50vh",
            overflowY: "auto"
          },
          children: [items.length === 0 && _jsxDEV("div", {
            style: {
              color: "#666",
              fontSize: "12px",
              fontStyle: "italic"
            },
            children: "No items to sell"
          }, void 0, false, {
            fileName: _jsxFileName,
            lineNumber: 107,
            columnNumber: 15
          }, this), items.map(item => {
            const def = ITEM_DEFS[item.defId];
            if (!def) return null;
            const shopEntry = BLACKSMITH_SHOP.find(e => e.defId === item.defId);
            const sellPrice = shopEntry ? shopEntry.sellPrice : Math.max(1, Math.floor(def.tier * 5));
            const totalPrice = sellPrice * (item.quantity || 1);
            return _jsxDEV("div", {
              style: {
                display: "flex",
                justifyContent: "space-between",
                alignItems: "center",
                padding: "6px 8px",
                marginBottom: "4px",
                background: "rgba(255,255,255,0.05)",
                borderRadius: "4px",
                borderLeft: `3px solid ${RARITY_COLORS[item.rarity]}`
              },
              children: [_jsxDEV("div", {
                children: [_jsxDEV("div", {
                  style: {
                    color: RARITY_COLORS[item.rarity],
                    fontSize: "13px",
                    fontWeight: "bold"
                  },
                  children: [def.name, " ", (item.quantity || 1) > 1 ? `x${item.quantity}` : ""]
                }, void 0, true, {
                  fileName: _jsxFileName,
                  lineNumber: 125,
                  columnNumber: 21
                }, this), _jsxDEV("div", {
                  style: {
                    color: "#888",
                    fontSize: "11px"
                  },
                  children: [item.rarity, " ", def.type]
                }, void 0, true, {
                  fileName: _jsxFileName,
                  lineNumber: 128,
                  columnNumber: 21
                }, this)]
              }, void 0, true, {
                fileName: _jsxFileName,
                lineNumber: 124,
                columnNumber: 19
              }, this), _jsxDEV("button", {
                onClick: () => shopSell(item.instanceId),
                style: {
                  background: "#883a3a",
                  color: "#fff",
                  border: "none",
                  padding: "4px 12px",
                  borderRadius: "4px",
                  cursor: "pointer",
                  fontSize: "12px"
                },
                children: ["Sell ", totalPrice, "g"]
              }, void 0, true, {
                fileName: _jsxFileName,
                lineNumber: 132,
                columnNumber: 19
              }, this)]
            }, item.instanceId, true, {
              fileName: _jsxFileName,
              lineNumber: 118,
              columnNumber: 17
            }, this);
          })]
        }, void 0, true, {
          fileName: _jsxFileName,
          lineNumber: 105,
          columnNumber: 11
        }, this)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 101,
        columnNumber: 9
      }, this)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 56,
      columnNumber: 7
    }, this)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 29,
    columnNumber: 5
  }, this);
}
_s(ShopPanelComponent, "l8wSQq3vqCdBMuscBI22i7mrN/I=");
_c = ShopPanelComponent;
export function mountShopPanel(container) {
  const div = document.createElement("div");
  div.id = "shop-panel-root";
  container.appendChild(div);
  render(_jsxDEV(ShopPanelComponent, {}, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 156,
    columnNumber: 10
  }, this), div);
}
export function showShopPanel() {
  setShopState?.({
    visible: true
  });
}
export function hideShopPanel() {
  setShopState?.({
    visible: false
  });
}
export function isShopVisible() {
  return !!setShopState;
}
var _c;
$RefreshReg$(_c, "ShopPanelComponent");

        if (import.meta.hot) {
          self.$RefreshReg$ = prevRefreshReg;
          self.$RefreshSig$ = prevRefreshSig;
          import.meta.hot.accept((m) => {
            try {
              flushUpdates();
            } catch (e) {
              console.log('[PREFRESH] Failed to flush updates:', e);
              self.location.reload();
            }
          });
        }
      
//# sourceMappingURL=data:application/json;base64,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VEhfU0hPUCIsIklURU1fREVGUyIsIlJBUklUWV9DT0xPUlMiLCJpbnZlbnRvcnlNYW5hZ2VyIiwic2hvcEJ1eSIsInNob3BTZWxsIiwianN4REVWIiwiX2pzeERFViIsInNldFNob3BTdGF0ZSIsIlNob3BQYW5lbENvbXBvbmVudCIsIl9zIiwic3RhdGUiLCJzZXRTdGF0ZSIsImFkZEhvb2tOYW1lIiwidmlzaWJsZSIsInNldFRpY2siLCJzdWJzY3JpYmUiLCJ0IiwiZ29sZCIsImdldEdvbGQiLCJpdGVtcyIsImdldEl0ZW1zIiwic3R5bGUiLCJwb3NpdGlvbiIsInRvcCIsImxlZnQiLCJ0cmFuc2Zvcm0iLCJiYWNrZ3JvdW5kIiwiYm9yZGVyIiwiYm9yZGVyUmFkaXVzIiwicGFkZGluZyIsIndpZHRoIiwibWF4SGVpZ2h0IiwicG9pbnRlckV2ZW50cyIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwiZ2FwIiwiY2hpbGRyZW4iLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJjb2xvciIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImZpbGVOYW1lIiwiX2pzeEZpbGVOYW1lIiwibGluZU51bWJlciIsImNvbHVtbk51bWJlciIsIm9uQ2xpY2siLCJjdXJzb3IiLCJvdmVyZmxvdyIsImZsZXgiLCJtYXJnaW5Cb3R0b20iLCJvdmVyZmxvd1kiLCJtYXAiLCJlbnRyeSIsImRlZiIsImRlZklkIiwiY2FuQWZmb3JkIiwiYnV5UHJpY2UiLCJib3JkZXJMZWZ0IiwicmFyaXR5IiwibmFtZSIsInR5cGUiLCJiYXNlRGFtYWdlIiwiYmFzZUFybW9yIiwiZGlzYWJsZWQiLCJsZW5ndGgiLCJmb250U3R5bGUiLCJpdGVtIiwic2hvcEVudHJ5IiwiZmluZCIsImUiLCJzZWxsUHJpY2UiLCJNYXRoIiwibWF4IiwiZmxvb3IiLCJ0aWVyIiwidG90YWxQcmljZSIsInF1YW50aXR5IiwiaW5zdGFuY2VJZCIsIm1vdW50U2hvcFBhbmVsIiwiY29udGFpbmVyIiwiZGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJhcHBlbmRDaGlsZCIsInNob3dTaG9wUGFuZWwiLCJoaWRlU2hvcFBhbmVsIiwiaXNTaG9wVmlzaWJsZSIsIl9jIiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIlNob3BQYW5lbC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVuZGVyLCBoIH0gZnJvbSAncHJlYWN0JztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdwcmVhY3QvaG9va3MnO1xuaW1wb3J0IHsgQkxBQ0tTTUlUSF9TSE9QLCBJVEVNX0RFRlMsIFJBUklUWV9DT0xPUlMsIHR5cGUgU2hvcEVudHJ5IH0gZnJvbSAnQHNhYWIvc2hhcmVkJztcbmltcG9ydCB7IGludmVudG9yeU1hbmFnZXIgfSBmcm9tICcuLi9zeXN0ZW1zL0ludmVudG9yeU1hbmFnZXIuanMnO1xuaW1wb3J0IHsgc2hvcEJ1eSwgc2hvcFNlbGwgfSBmcm9tICcuLi9uZXR3b3JrL2FjdGlvbnMuanMnO1xuXG5pbnRlcmZhY2UgU2hvcFN0YXRlIHtcbiAgdmlzaWJsZTogYm9vbGVhbjtcbn1cblxubGV0IHNldFNob3BTdGF0ZTogKChzOiBTaG9wU3RhdGUpID0+IHZvaWQpIHwgbnVsbCA9IG51bGw7XG5cbmZ1bmN0aW9uIFNob3BQYW5lbENvbXBvbmVudCgpIHtcbiAgY29uc3QgW3N0YXRlLCBzZXRTdGF0ZV0gPSB1c2VTdGF0ZTxTaG9wU3RhdGU+KHsgdmlzaWJsZTogZmFsc2UgfSk7XG4gIGNvbnN0IFssIHNldFRpY2tdID0gdXNlU3RhdGUoMCk7XG5cbiAgc2V0U2hvcFN0YXRlID0gc2V0U3RhdGU7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICByZXR1cm4gaW52ZW50b3J5TWFuYWdlci5zdWJzY3JpYmUoKCkgPT4gc2V0VGljaygodCkgPT4gdCArIDEpKTtcbiAgfSwgW10pO1xuXG4gIGlmICghc3RhdGUudmlzaWJsZSkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgZ29sZCA9IGludmVudG9yeU1hbmFnZXIuZ2V0R29sZCgpO1xuICBjb25zdCBpdGVtcyA9IGludmVudG9yeU1hbmFnZXIuZ2V0SXRlbXMoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3tcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLCB0b3A6ICc1MCUnLCBsZWZ0OiAnNTAlJywgdHJhbnNmb3JtOiAndHJhbnNsYXRlKC01MCUsIC01MCUpJyxcbiAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDE1LDEwLDUsMC45NSknLCBib3JkZXI6ICcycHggc29saWQgI2FhNjYyMicsXG4gICAgICBib3JkZXJSYWRpdXM6ICcxMnB4JywgcGFkZGluZzogJzIwcHgnLCB3aWR0aDogJzcwMHB4JywgbWF4SGVpZ2h0OiAnODB2aCcsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnYXV0bycsIGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJzEycHgnLFxuICAgIH19PlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9fT5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJyNmZmQ3MDAnLCBmb250U2l6ZTogJzE4cHgnLCBmb250V2VpZ2h0OiAnYm9sZCcgfX0+XG4gICAgICAgICAgQmxhY2tzbWl0aCBUb2l2b1xuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICcxMnB4JyB9fT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnI2ZmZDcwMCcsIGZvbnRTaXplOiAnMTZweCcgfX0+XG4gICAgICAgICAgICBHb2xkOiB7Z29sZH1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTdGF0ZSh7IHZpc2libGU6IGZhbHNlIH0pfVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgYmFja2dyb3VuZDogJyM2NjYnLCBjb2xvcjogJyNmZmYnLCBib3JkZXI6ICdub25lJyxcbiAgICAgICAgICAgICAgcGFkZGluZzogJzRweCAxMnB4JywgYm9yZGVyUmFkaXVzOiAnNHB4JywgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIENsb3NlIFtFU0NdXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICcxNnB4Jywgb3ZlcmZsb3c6ICdoaWRkZW4nIH19PlxuICAgICAgICB7LyogQnV5IHNpZGUgKi99XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZmxleDogMSB9fT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiAnIzg4Y2M4OCcsIGZvbnRTaXplOiAnMTRweCcsIGZvbnRXZWlnaHQ6ICdib2xkJywgbWFyZ2luQm90dG9tOiAnOHB4JyB9fT5cbiAgICAgICAgICAgIEJ1eVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWF4SGVpZ2h0OiAnNTB2aCcsIG92ZXJmbG93WTogJ2F1dG8nIH19PlxuICAgICAgICAgICAge0JMQUNLU01JVEhfU0hPUC5tYXAoKGVudHJ5OiBTaG9wRW50cnkpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgZGVmID0gSVRFTV9ERUZTW2VudHJ5LmRlZklkXTtcbiAgICAgICAgICAgICAgaWYgKCFkZWYpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICBjb25zdCBjYW5BZmZvcmQgPSBnb2xkID49IGVudHJ5LmJ1eVByaWNlO1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtlbnRyeS5kZWZJZH0gc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJywgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAnNnB4IDhweCcsIG1hcmdpbkJvdHRvbTogJzRweCcsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgyNTUsMjU1LDI1NSwwLjA1KScsIGJvcmRlclJhZGl1czogJzRweCcsXG4gICAgICAgICAgICAgICAgICBib3JkZXJMZWZ0OiBgM3B4IHNvbGlkICR7UkFSSVRZX0NPTE9SU1tkZWYucmFyaXR5XX1gLFxuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogUkFSSVRZX0NPTE9SU1tkZWYucmFyaXR5XSwgZm9udFNpemU6ICcxM3B4JywgZm9udFdlaWdodDogJ2JvbGQnIH19PlxuICAgICAgICAgICAgICAgICAgICAgIHtkZWYubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICcjODg4JywgZm9udFNpemU6ICcxMXB4JyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7ZGVmLnR5cGV9IHtkZWYuYmFzZURhbWFnZSA/IGB8IERNRzogJHtkZWYuYmFzZURhbWFnZX1gIDogJyd9e2RlZi5iYXNlQXJtb3IgPyBgfCBBUk06ICR7ZGVmLmJhc2VBcm1vcn1gIDogJyd9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNob3BCdXkoZW50cnkuZGVmSWQpfVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWNhbkFmZm9yZH1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBjYW5BZmZvcmQgPyAnIzQ0ODgzYScgOiAnIzQ0NCcsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNhbkFmZm9yZCA/ICcjZmZmJyA6ICcjODg4JyxcbiAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6ICdub25lJywgcGFkZGluZzogJzRweCAxMnB4JywgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IGNhbkFmZm9yZCA/ICdwb2ludGVyJyA6ICdkZWZhdWx0JywgZm9udFNpemU6ICcxMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQnV5IHtlbnRyeS5idXlQcmljZX1nXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogU2VsbCBzaWRlICovfVxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGZsZXg6IDEgfX0+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJyNjYzg4ODgnLCBmb250U2l6ZTogJzE0cHgnLCBmb250V2VpZ2h0OiAnYm9sZCcsIG1hcmdpbkJvdHRvbTogJzhweCcgfX0+XG4gICAgICAgICAgICBTZWxsXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXhIZWlnaHQ6ICc1MHZoJywgb3ZlcmZsb3dZOiAnYXV0bycgfX0+XG4gICAgICAgICAgICB7aXRlbXMubGVuZ3RoID09PSAwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBjb2xvcjogJyM2NjYnLCBmb250U2l6ZTogJzEycHgnLCBmb250U3R5bGU6ICdpdGFsaWMnIH19PlxuICAgICAgICAgICAgICAgIE5vIGl0ZW1zIHRvIHNlbGxcbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2l0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBkZWYgPSBJVEVNX0RFRlNbaXRlbS5kZWZJZF07XG4gICAgICAgICAgICAgIGlmICghZGVmKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgY29uc3Qgc2hvcEVudHJ5ID0gQkxBQ0tTTUlUSF9TSE9QLmZpbmQoKGUpID0+IGUuZGVmSWQgPT09IGl0ZW0uZGVmSWQpO1xuICAgICAgICAgICAgICBjb25zdCBzZWxsUHJpY2UgPSBzaG9wRW50cnkgPyBzaG9wRW50cnkuc2VsbFByaWNlIDogTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihkZWYudGllciAqIDUpKTtcbiAgICAgICAgICAgICAgY29uc3QgdG90YWxQcmljZSA9IHNlbGxQcmljZSAqIChpdGVtLnF1YW50aXR5IHx8IDEpO1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpdGVtLmluc3RhbmNlSWR9IHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsIGp1c3RpZnlDb250ZW50OiAnc3BhY2UtYmV0d2VlbicsIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzZweCA4cHgnLCBtYXJnaW5Cb3R0b206ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMjU1LDI1NSwyNTUsMC4wNSknLCBib3JkZXJSYWRpdXM6ICc0cHgnLFxuICAgICAgICAgICAgICAgICAgYm9yZGVyTGVmdDogYDNweCBzb2xpZCAke1JBUklUWV9DT0xPUlNbaXRlbS5yYXJpdHldfWAsXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGNvbG9yOiBSQVJJVFlfQ09MT1JTW2l0ZW0ucmFyaXR5XSwgZm9udFNpemU6ICcxM3B4JywgZm9udFdlaWdodDogJ2JvbGQnIH19PlxuICAgICAgICAgICAgICAgICAgICAgIHtkZWYubmFtZX0geyhpdGVtLnF1YW50aXR5IHx8IDEpID4gMSA/IGB4JHtpdGVtLnF1YW50aXR5fWAgOiAnJ31cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgY29sb3I6ICcjODg4JywgZm9udFNpemU6ICcxMXB4JyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5yYXJpdHl9IHtkZWYudHlwZX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2hvcFNlbGwoaXRlbS5pbnN0YW5jZUlkKX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzg4M2EzYScsIGNvbG9yOiAnI2ZmZicsIGJvcmRlcjogJ25vbmUnLFxuICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6ICc0cHggMTJweCcsIGJvcmRlclJhZGl1czogJzRweCcsIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMTJweCcsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFNlbGwge3RvdGFsUHJpY2V9Z1xuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdW50U2hvcFBhbmVsKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5pZCA9ICdzaG9wLXBhbmVsLXJvb3QnO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgcmVuZGVyKDxTaG9wUGFuZWxDb21wb25lbnQgLz4sIGRpdik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaG93U2hvcFBhbmVsKCkge1xuICBzZXRTaG9wU3RhdGU/Lih7IHZpc2libGU6IHRydWUgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoaWRlU2hvcFBhbmVsKCkge1xuICBzZXRTaG9wU3RhdGU/Lih7IHZpc2libGU6IGZhbHNlIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTaG9wVmlzaWJsZSgpOiBib29sZWFuIHtcbiAgcmV0dXJuICEhc2V0U2hvcFN0YXRlO1xufVxuIl0sImZpbGUiOiJDOi9Vc2Vycy9rYXBwdS9zYWFiL2NsaWVudC9zcmMvdWkvU2hvcFBhbmVsLnRzeCJ9